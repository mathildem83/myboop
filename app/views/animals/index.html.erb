<div>
  <%= render "shared/back"%>
</div>

<div class="container">
  <div id="carouselExampleSlidesOnly" class="carousel slide rounded-5" data-bs-ride="carousel" style="width: 100%; max-height: 71vh; overflow: hidden;">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734621854/Design_sans_titre_taz0br.jpg" class="d-block w-100" alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734621854/Design_sans_titre_1_sryfuj.jpg" class="d-block w-100" alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734622498/Design_sans_titre_5_hzjvgu.jpg" class="d-block w-100" alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734622497/Design_sans_titre_6_kojqpk.jpg" class="d-block w-100 " alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734622497/Design_sans_titre_4_nyrr0m.jpg" class="d-block w-100 " alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734622493/Design_sans_titre_3_y01tpz.jpg" class="d-block w-100 " alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
      <div class="carousel-item">
        <img src="https://res.cloudinary.com/dsbteudoz/image/upload/v1734622491/Design_sans_titre_2_yat5du.jpg" class="d-block w-100 " alt="Photo d'animaux heureux" style="transition: 3s ease">
      </div>
    </div>
  </div>

  <h1 class="text-center my-4">üêæ Ils cherchent une nouvelle famille üè†</h1>
<div class="row justify-content-center">
  <div class="col-sm-8 my-3">
    <%= form_with url: animals_path, method: :get, class: "d-flex" do %>


      <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Rechercher par ville"
        %>
      <%= submit_tag "Recherche", name: "", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>


  <div class="d-flex flex-wrap justify-content-center" data-controller="animal-index">
    <% @animals.each do |animal| %>
      <a  href="<%=animal_path(animal)%>"
          style="text-decoration: none; color: black; margin: 20px">
        <div class="col">
          <div  class="m-2 card_pro p-0 d-flex flex-column"
                style="width: 300px; aspect-ratio: 1/1; overflow: hidden;"
                data-animal-index-target="animal"
                data-action="mouseover->animal-index#hover mouseout->animal-index#unhover">
            <!-- En-t√™te -->
            <div class="p-3 text-center" style="border-radius: 8px 8px 0 0; background-color: #f7e6d4;">
              <%=animal.name %>
            </div>
            <!-- Image qui prend le reste de la place -->
            <div class="flex-grow-1" style="overflow: hidden;">
              <%= image_tag animal.photo, style: "width: 100%; height: 100%; object-fit: cover;" %>
            </div>
          </div>
        </div>
      </a>
    <% end %>
  </div>
</div>
